<div class="relative min-w-[300px] md:min-w-[800px] max-w-[800px]">
  <h1 mat-dialog-title>Update {{ data.name }}</h1>

  <app-component-spinner [loading]="loading"></app-component-spinner>
  <div mat-dialog-content>
    <div class="flex gap-5" [formGroup]="form">
      <div class="flex flex-col gap-2 w-1/2">
        <div class="font-semibold text-lg">User Info</div>

        <div class="flex flex-col gap-2">
          <mat-form-field>
            <mat-label>First name</mat-label>
            <input
              matInput
              type="text"
              placeholder="John"
              value="{{ data.firstName }}"
              disabled
            />
            <mat-error>Field is required</mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Last name</mat-label>
            <input
              matInput
              type="text"
              placeholder="Doe"
              value="{{ data.lastName }}"
              disabled
            />
            <mat-error>Field is required</mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Email address</mat-label>
            <input
              matInput
              type="email"
              placeholder="user@domain.com"
              value="{{ data.email }}"
              disabled
            />
            <mat-error>Valid email is required</mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-row gap-2">
          <label for="Role Group">Role Access: </label>
          <div class="flex flex-1 flex-col">
            <mat-checkbox
              formControlName="administrators"
              color="primary"
              value="administrators"
              >Admin</mat-checkbox
            >
            <mat-checkbox
              color="primary"
              formControlName="managers"
              value="managers"
              >Data Manager</mat-checkbox
            >
            <mat-checkbox
              color="primary"
              value=""
              aria-disabled="true"
              disabled
              checked
              >Basic User</mat-checkbox
            >
          </div>
        </div>
      </div>

      <div class="flex flex-col gap-2 w-1/2">
        <div class="font-semibold text-lg">Quota</div>
        <mat-form-field>
          <mat-label>Size of Data</mat-label>
          <input matInput type="number" formControlName="quotaSize" />
          <span matTextSuffix>GB</span>
          <mat-error>Field is required</mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Count of Queries</mat-label>
          <input matInput type="number" formControlName="quotaQueryCount" />
          <span matTextSuffix>Count</span>
          <mat-error>Field is required</mat-error>
        </mat-form-field>

        <div class="flex space-x-2">
          <span>Estimated Cost* : </span>
          <span class="font font-semibold">${{ costEstimation }} / Month</span>
        </div>

        <div class="text-red-500 text-sm flex space-x-2">
          <span
            >*Disclaimer : This above cost is an approximate and rounded off
            value</span
          >
        </div>
      </div>
    </div>

    <br />
    <div class="flex space-x-[10px]">
      @if (data.mfaActive) {
        <button
          mat-raised-button
          color="warn"
          (click)="disableMFA()"
          [disabled]="disableDelete"
          class="mb-[10px] w-[110px]"
        >
          Clear MFA
        </button>
      }
      <button
        mat-raised-button
        color="warn"
        (click)="delete()"
        [disabled]="disableDelete"
        class="mb-[10px] w-[110px]"
      >
        Delete
      </button>
    </div>
    <div class="flex space-x-[10px]">
      <button
        class="w-[110px]"
        mat-raised-button
        color="primary"
        (click)="cancel()"
      >
        Cancel
      </button>
      <button
        class="w-[110px]"
        mat-raised-button
        color="primary"
        (click)="done()"
        [disabled]="form.invalid || !costEstimation || loadingCostEstimation"
      >
        Update
      </button>
    </div>
  </div>
</div>
